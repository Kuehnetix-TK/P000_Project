CREATE TABLE "amenities" (
  "amenityref" integer(64) NOT NULL,
  "houseid" integer(64) NOT NULL,
  "cablestatus" text NOT NULL,
  CONSTRAINT "amenities_pkey" PRIMARY KEY ("amenityref"),
  CONSTRAINT "amenities_houseid_fkey" FOREIGN KEY ("houseid") REFERENCES "households" ("housenum")
) 
 /* 
 3 example rows: 
 SELECT * FROM amenities LIMIT 3; 
 amenityref houseid cablestatus 
         1       3       avail 
         2       4   available 
         3       7   Available  
 */

CREATE TABLE "households" (
  "housenum" integer(64) NOT NULL,
  "residentcount" integer(64) NOT NULL,
  "locregion" text NOT NULL,
  "loczone" integer(64) NOT NULL,
  "serviceplan" integer(64),
  "socioeconomic" text,
  CONSTRAINT "households_pkey" PRIMARY KEY ("housenum"),
  CONSTRAINT "households_locregion_loczone_fkey" FOREIGN KEY ("locregion", "loczone") REFERENCES "locations" ("regioncode", "zonenum"),
  CONSTRAINT "households_serviceplan_fkey" FOREIGN KEY ("serviceplan") REFERENCES "service_types" ("serviceref")
) 
 /* 
 3 example rows: 
 SELECT * FROM households LIMIT 3; 
 housenum residentcount  locregion loczone serviceplan                                                                                                    socioeconomic 
       4             4 Taguatinga     315           1   {"Tenure_Type": "Owned", "Expend_Coeff": 33.78, "Income_Bracket": "More than R$ 1,760 and less than R$ 2,640"} 
       7             3 Taguatinga     315           1 {"Tenure_Type": "owned", "Expend_Coeff": 37.1846, "Income_Bracket": "More than R$ 2,640 and less than R$ 4,400"} 
      22             3 Taguatinga     315           1 {"Tenure_Type": "OWNED", "Expend_Coeff": 37.2258, "Income_Bracket": "More than R$ 4,400 and less than R$ 8,800"}  
 */

CREATE TABLE "infrastructure" (
  "infraref" integer(64) NOT NULL,
  "wateraccess" text NOT NULL,
  "roadsurface" text NOT NULL,
  "parkavail" text NOT NULL,
  CONSTRAINT "infrastructure_pkey" PRIMARY KEY ("infraref")
) 
 /* 
 3 example rows: 
 SELECT * FROM infrastructure LIMIT 3; 
 infraref                          wateraccess       roadsurface     parkavail 
       1  Yes, available at least in one room Asphalt, concrete     Available 
       2 Yes,  available at least in one room Asphalt, concrete     Available 
       6  Yes, available at least in one room Asphalt, concrete Not available  
 */

CREATE TABLE "locations" (
  "regioncode" text NOT NULL,
  "zonenum" integer(64) NOT NULL,
  CONSTRAINT "locations_pkey" PRIMARY KEY ("regioncode", "zonenum")
) 
 /* 
 3 example rows: 
 SELECT * FROM locations LIMIT 3; 
  regioncode zonenum 
 Taguatinga     315 
 Taguatinga     315 
      Guar√°     222  
 */

CREATE TABLE "properties" (
  "propref" integer(64) NOT NULL,
  "houselink" integer(64) NOT NULL,
  "infralink" integer(64) NOT NULL,
  "dwelling_specs" text,
  CONSTRAINT "properties_pkey" PRIMARY KEY ("propref"),
  CONSTRAINT "properties_houselink_fkey" FOREIGN KEY ("houselink") REFERENCES "households" ("housenum"),
  CONSTRAINT "properties_infralink_fkey" FOREIGN KEY ("infralink") REFERENCES "infrastructure" ("infraref")
) 
 /* 
 3 example rows: 
 SELECT * FROM properties LIMIT 3; 
 propref houselink infralink                                                          dwelling_specs 
     19        77         1 {"Bath_Count": 1, "Room_Count": 3, "Dwelling_Class": "Brickwork house"} 
     20       102         1       {"Bath_Count": 1, "Room_Count": 2, "Dwelling_Class": "apartment"} 
     21       103        21       {"Bath_Count": 1, "Room_Count": 2, "Dwelling_Class": "Apartment"}  
 */

CREATE TABLE "service_types" (
  "serviceref" integer(64) NOT NULL,
  "domestichelp" text NOT NULL,
  "socsupport" text NOT NULL,
  CONSTRAINT "service_types_pkey" PRIMARY KEY ("serviceref")
) 
 /* 
 3 example rows: 
 SELECT * FROM service_types LIMIT 3; 
 serviceref         domestichelp socsupport 
         1  No domestic workers         No 
        14  No domestic workers         No 
        21  No domestic workers        Yes  
 */

CREATE TABLE "transportation_assets" (
  "transref" integer(64) NOT NULL,
  "housetag" integer(64) NOT NULL,
  "vehicleinventory" text,
  CONSTRAINT "transportation_assets_pkey" PRIMARY KEY ("transref"),
  CONSTRAINT "transportation_assets_housetag_fkey" FOREIGN KEY ("housetag") REFERENCES "households" ("housenum")
) 
 /* 
 3 example rows: 
 SELECT * FROM transportation_assets LIMIT 3; 
 transref housetag                                                                                          vehicleinventory 
       4       22     {"Newest_Year": "after 2014", "vehicle_counts": {"Auto_Count": 2, "Bike_Count": 0, "Motor_Count": 0}} 
       5       35   {"Newest_Year": "2010 TO 2013", "vehicle_counts": {"Auto_Count": 1, "Bike_Count": 1, "Motor_Count": 0}} 
       6       37 {"Newest_Year": "nOt apPLIcaBlE", "vehicle_counts": {"Auto_Count": 0, "Bike_Count": 0, "Motor_Count": 0}}  
 */